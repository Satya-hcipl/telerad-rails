jQuery(function($) {
  $("#newPatient").html("<%= escape_javascript(render(:partial => 'new', :locals => {patient: @patient})) %>");
  ComponentsPickers.init();
  $("#newPatientModal").modal('show');
  $('#new_patient_form').validate({
		debug: true,
		rules: {
			"patient[name]": {required: true, minlength: 3},
			"patient[address]": {required: true},
			"patient[dob]": {required: true},
			"patient[pincode]": {required: true, number: true, rangelength: [6,6]}
		},
		messages: {
			"patient[name]": {
				required: "Please specify your name",
				minlength: "Name should be atleast 3 characters long"
			},
			"patient[address]": "Please specify your address",
			"patient[dob]": "Please specify your DOB",
			"patient[pincode]": {
				required: "Please specify the pincode",
				rangelength: "Pincode should be of 6 digits",
				number: "Pincode should contain only digits"
			}
		}
	});
});